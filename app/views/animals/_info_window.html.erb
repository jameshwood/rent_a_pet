<div class="popup-card">
  <div class="popup-image-container">
    <!-- Add Carousel Wrapper -->
    <div id="animalCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner image-carousel">
        <% if animal.photos.attached? %>
          <% animal.photos.each_with_index do |photo, index| %>
            <div class="carousel-item <%= 'active' if index == 0 %>">
              <%= cl_image_tag photo.key, alt: animal.name, class: "carousel-image" %>
            </div>
          <% end %>
        <% else %>
          <div class="carousel-item active">
            <img src="/placeholder.jpg" alt="No photo available" class="carousel-image">
          </div>
        <% end %>
      </div>
      <!-- Carousel Navigation -->
      <button class="carousel-control-prev" type="button" data-bs-target="#animalCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#animalCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>

  <!-- Card Details -->
  <div class="popup-details">
    <h3><%= animal.name %></h3>
    <p class="price">
      <% if animal.price.present? %>
        <span class="current-price">€<%= animal.price %></span> per day
      <% else %>
        <span class="current-price">Price not available</span>
      <% end %>
    </p>
    <div class="rating">
      <span>⭐</span>
      <span>
        <%= animal.reviews.any? ? "#{animal.average_rating} (#{animal.reviews.count})" : "No ratings yet" %>
      </span>
    </div>
  </div>
</div>
